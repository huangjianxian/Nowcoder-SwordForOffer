## 第九题 变态跳台阶

### 题目描述

> 一只青蛙一次可以跳上1级台阶，也可以跳上2级……它也可以跳上n级。求该青蛙跳上一个n级的台阶总共有多少种跳法。

### 法一：递归法

**思路：** 

> 这个是跳台阶的升级版，每次青蛙可跳的台阶数发生了变化。   
由递推公式得：
F(n) = F(n-1) + F(n-2) + F(n-3) + ... + F(1)
F(n-1) = F(n-2) + F(n-3) + F(n-4) + ... + F(1)
可知，F(n) = 2 * F(n-1) 的关系，得到关系式之后可选择使用递归法，推算递归边界，当 n = 1 时，F(1) = 1; 当 n =2 时，F(2) = 2, 也等于 2F(1)。

![关系式](https://file.hjxlog.com/blog/images/微信图片_202009261620112020-09-26-16-20-46)

**代码：** 

```C#
        public int jumpFloorII(int number)
        {
            if (number == 1)
                return 1;
            return 2 * jumpFloorII(number - 1); // 递归调用
        }
```

**运行结果：** 

> 运行时间：23ms   
占用内存：3340k

### 法二：非递归

**思路：** 由上可知，函数的每一项都是其前一项的两倍(1, 2, 4, 8, 16, ...)，因此可以通过存储其前一项值的方式来推算。

**代码：** 

```C#
        public int jumpFloorII(int number)
        {
            if (number == 1)
                return 1;
            // 1, 2, 4, 8, 16...
            int n1 = 1; // 初始化第一项
            int n2 = 2; // 初始化第二项
            for (int i = 2; i <= number; i++)
            {
                n2 = 2 * n1; // 通过前一项计算值
                n1 = n2; // 相当于n1向数列右边移动了一项
            }
            return n2;
        }
```

**运行结果：** 

> 运行时间：23ms   
占用内存：3448k